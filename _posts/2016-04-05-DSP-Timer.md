---
layout: post
title:  "DSP: Timer"
date:   2016-04-05 21:29:00 +0200
categories: daj-sie-poznac
short_desc: "ZabraÅ‚em siÄ™ za skakanie. Koncept jest prosty: wciskam jakiÅ› klawisz, powiedzmy `Z` i skaczÄ™. ZaÅ‚oÅ¼yÅ‚em, Å¼e dla skoku wysokoÅ›ci 50 px â€skokowoÅ›Ä‡â€ skoku mogÅ‚aby wyglÄ…daÄ‡ tak: 0-20-35-45-50-45-35-20-0. ZaczÄ…Å‚em kodowaÄ‡, ale natrafiÅ‚em na problem..."
---
ZabraÅ‚em siÄ™ za skakanie. Koncept jest prosty: wciskam jakiÅ› klawisz, powiedzmy `Z` i skaczÄ™. ZaÅ‚oÅ¼yÅ‚em, Å¼e dla skoku wysokoÅ›ci 50 px â€skokowoÅ›Ä‡â€ skoku mogÅ‚aby wyglÄ…daÄ‡ tak: 0-20-35-45-50-45-35-20-0. ZaczÄ…Å‚em kodowaÄ‡, ale natrafiÅ‚em na problem.

Do tej pory kaÅ¼dy ruch gracza realizowany byÅ‚ gdy zostaÅ‚ wciÅ›niÄ™ty przycisk. Jednak przy skoku musi byÄ‡ jakieÅ› opÃ³Åºnienie miÄ™dzy kaÅ¼dym stadium. No i tu wÅ‚aÅ›nie pojawiÅ‚ siÄ™ problem.

Na poczÄ…tku szukaÅ‚em jakiegoÅ› odpowiednika Phpowej funkcji `sleep()` dziÄ™ki ktÃ³rej mÃ³gÅ‚bym â€zamraÅ¼aÄ‡â€ gracza na uÅ‚amki sekund miÄ™dzy stadiami. No i nie znalazÅ‚em ğŸ˜‰ Nie szukaÅ‚em zbyt dÅ‚ugo, bo uznaÅ‚em, Å¼e takie podejÅ›cie jest bez sensu. PÃ³ki co mam tylko gracza. Ale pÃ³Åºniej pojawiÄ… siÄ™ jacyÅ› wrogowie czy ogÃ³lnie elementy ktÃ³re bÄ™dÄ… musiaÅ‚y siÄ™ same poruszaÄ‡.

ZaczÄ…Å‚em szukaÄ‡ jakiegoÅ› timera, ktÃ³ry bÄ™dzie odpalaÅ‚ pewne funkcje co jakiÅ› czas. ZnalazÅ‚em `QTimer`, ktÃ³ra idealnie siÄ™ do tego nadaje. Aby uÅ¼yÄ‡ timera do moich potrzeb trzeba raptem 3 linijek kodu:

``` python
     timer = QtCore.QTimer(self)
     timer.timeout.connect(self.tick)
     timer.start(100)
```

Na poczÄ…tku inicjalizujemy timer, potem podÅ‚Ä…czamy pod kaÅ¼dy timeout jakÄ…Å› metodÄ™. Na koniec ustawiam dÅ‚ugoÅ› timeoutu jako parametr w `start`. Tyle ğŸ˜ƒ

DziÄ™ki tej prostej klasie mogÄ™ teraz bez problemu zajÄ…Ä‡ siÄ™ skokiem. Wymaga to nieco przerÃ³bek, wiÄ™c na razie pozwoliÅ‚em sobie zrobiÄ‡ mocne MVP po prostu wypluwajÄ…ce pewne popularne wÅ›rÃ³d programistÃ³w sÅ‚owo na konsolÄ™ ğŸ˜‰

W nastÄ™pnym wpisie nie ma juÅ¼ wymÃ³wek - pojawi siÄ™ skok!
